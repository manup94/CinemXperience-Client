{"ast":null,"code":"var _jsxFileName = \"/Users/ignaciogonzalez-bueno/Documents/IronHack/Week6/Day5/Project/CinemXperience-Client/client/src/pages/MovieDetailsPage/MovieDetailsPage.jsx\",\n  _s = $RefreshSig$();\nimport { Children, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport passServices from '../../services/pass.services';\nimport moviesServices from '../../services/movies.services';\nimport { Col, Container, Row, Button, Form } from \"react-bootstrap\";\nimport './MovieDetailsPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  formatDate\n} = require('../../utils/formatDate');\nconst MovieDetailsPage = () => {\n  _s();\n  const {\n    movie_id\n  } = useParams();\n  const [movie, setMovie] = useState({});\n  const [passes, setPasses] = useState([]);\n  const [movieTitles, setMovieTitles] = useState([]);\n  const baseImageUrl = 'https://image.tmdb.org/t/p/original';\n  const oneMovieFetch = () => {\n    moviesServices.getOneMovie(movie_id).then(_ref => {\n      let {\n        data\n      } = _ref;\n      return setMovie(data);\n    }).catch(err => console.log(err));\n  };\n  const passFetch = () => {\n    passServices.getAllPass().then(res => {\n      console.log(movie_id);\n      const passes = res.data.filter(elm => {\n        console.log(elm);\n        return elm.movieId == movie_id;\n      });\n      setPasses(passes);\n    }).catch(err => console.log(err));\n  };\n  useEffect(() => {\n    oneMovieFetch();\n    passFetch();\n  }, []);\n  console.log(passes);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex mt-5 full-container\",\n    children: [/*#__PURE__*/_jsxDEV(Col, {\n      className: \" img-container\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img image\",\n          src: `${baseImageUrl}${movie.poster_path}`,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Col, {\n      className: \"details-container text-container\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"d-flex movie-details\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text\",\n          children: movie.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text\",\n          children: movie.overview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text\",\n          children: [\"Fecha de estreno: \", movie.release_date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        className: \"sesions-form\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Select, {\n          \"aria-label\": \"Default select example\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Selecciona una sesi\\xF3n disponible\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), passes.map(elm => {\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: elm.movieDate.value,\n              children: formatDate(elm.movieDate)\n            }, elm.movieId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 36\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"sesions-form-btn\",\n          variant: \"dark\",\n          type: \"submit\",\n          children: \"Comprar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(MovieDetailsPage, \"t3oc5rwPRP3V0U2RqIO4aGfvGkM=\", false, function () {\n  return [useParams];\n});\n_c = MovieDetailsPage;\nexport default MovieDetailsPage;\nvar _c;\n$RefreshReg$(_c, \"MovieDetailsPage\");","map":{"version":3,"names":["Children","useEffect","useState","useParams","passServices","moviesServices","Col","Container","Row","Button","Form","jsxDEV","_jsxDEV","formatDate","require","MovieDetailsPage","_s","movie_id","movie","setMovie","passes","setPasses","movieTitles","setMovieTitles","baseImageUrl","oneMovieFetch","getOneMovie","then","_ref","data","catch","err","console","log","passFetch","getAllPass","res","filter","elm","movieId","className","children","src","poster_path","alt","fileName","_jsxFileName","lineNumber","columnNumber","title","overview","release_date","Select","map","value","movieDate","variant","type","_c","$RefreshReg$"],"sources":["/Users/ignaciogonzalez-bueno/Documents/IronHack/Week6/Day5/Project/CinemXperience-Client/client/src/pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import { Children, useEffect, useState } from \"react\"\nimport { useParams } from \"react-router\"\nimport passServices from '../../services/pass.services'\nimport moviesServices from '../../services/movies.services'\nimport { Col, Container, Row, Button, Form } from \"react-bootstrap\"\nimport './MovieDetailsPage.css'\nconst { formatDate } = require('../../utils/formatDate');\n\n\nconst MovieDetailsPage = () => {\n\n    const { movie_id } = useParams()\n\n\n    const [movie, setMovie] = useState({})\n\n    const [passes, setPasses] = useState([])\n\n    const [movieTitles, setMovieTitles] = useState([]);\n\n    const baseImageUrl = 'https://image.tmdb.org/t/p/original'\n\n    const oneMovieFetch = () => {\n        moviesServices\n            .getOneMovie(movie_id)\n            .then(({ data }) => setMovie(data))\n            .catch(err => console.log(err))\n    }\n    const passFetch = () => {\n        passServices\n            .getAllPass()\n            .then((res) => {\n                console.log(movie_id);\n\n                const passes = res.data.filter(elm => {\n                    console.log(elm);\n                    return elm.movieId == movie_id\n                });\n                setPasses(passes)\n\n            })\n            .catch((err) => console.log(err))\n    }\n\n\n    useEffect(() => {\n        oneMovieFetch()\n        passFetch()\n\n    }, [])\n\n    console.log(passes);\n\n\n    return (\n        <Container className=\"d-flex mt-5 full-container\">\n            <Col className=\" img-container\" >\n                <Row>\n                    < img className=\"img image\" src={`${baseImageUrl}${movie.poster_path}`} alt=\"\" />\n                </Row>\n\n            </Col>\n            <Col className=\"details-container text-container\">\n                <Row className=\"d-flex movie-details\">\n                    <h1 className=\"text\">{movie.title}</h1>\n                    <p className=\"text\">{movie.overview}</p>\n                    <p className=\"text\">Fecha de estreno: {movie.release_date}</p>\n\n                </Row>\n                <Form className=\"sesions-form\">\n                    <Form.Select aria-label=\"Default select example\">\n                        <option>Selecciona una sesi√≥n disponible</option>\n                        {passes.map((elm) => {\n                            return <option key={elm.movieId} value={elm.movieDate.value}>\n                                {\n                                    formatDate(elm.movieDate)\n                                }\n                            </option>\n                        }\n                        )}\n\n                    </Form.Select>\n                    <Button className=\"sesions-form-btn\" variant=\"dark\" type=\"submit\">\n                        Comprar\n                    </Button>\n                </Form>\n\n            </Col>\n\n\n\n        </Container>\n\n\n    )\n}\n\nexport default MovieDetailsPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}