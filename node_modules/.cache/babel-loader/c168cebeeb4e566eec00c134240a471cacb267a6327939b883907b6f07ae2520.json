{"ast":null,"code":"var _jsxFileName = \"/Users/ignaciogonzalez-bueno/Documents/IronHack/Week6/Day5/Project/CinemXperience-Client/client/src/components/RequireAuth/RequireAuth.js\",\n  _s = $RefreshSig$();\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/auth.context\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RequireAuth = _ref => {\n  _s();\n  let {\n    allowedRoles\n  } = _ref;\n  const {\n    auth\n  } = useContext(AuthContext);\n  const location = useLocation();\n  return allowedRoles.find(role => auth.role.includes(role)) ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this) : auth !== null && auth !== void 0 && auth.name ? /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/unauthorized\",\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/register\",\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 9\n  }, this);\n};\n_s(RequireAuth, \"ifHKcNhkaORA4nEwRUVpreIxN0A=\", false, function () {\n  return [useLocation];\n});\n_c = RequireAuth;\nexport default RequireAuth;\nvar _c;\n$RefreshReg$(_c, \"RequireAuth\");","map":{"version":3,"names":["useLocation","Navigate","Outlet","useContext","AuthContext","React","jsxDEV","_jsxDEV","RequireAuth","_ref","_s","allowedRoles","auth","location","find","role","includes","fileName","_jsxFileName","lineNumber","columnNumber","name","to","state","from","replace","_c","$RefreshReg$"],"sources":["/Users/ignaciogonzalez-bueno/Documents/IronHack/Week6/Day5/Project/CinemXperience-Client/client/src/components/RequireAuth/RequireAuth.js"],"sourcesContent":["import { useLocation, Navigate, Outlet } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../context/auth.context\";\n\nimport React from \"react\";\n\nconst RequireAuth = ({ allowedRoles }) => {\n    const { auth } = useContext(AuthContext);\n    const location = useLocation();\n\n    return allowedRoles.find((role) => auth.role.includes(role)) ? (\n        <Outlet />\n    ) : auth?.name ? (\n        <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\n    ) : (\n        <Navigate to=\"/register\" state={{ from: location }} replace />\n    );\n};\n\nexport default RequireAuth;"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AAChE,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,4BAA4B;AAExD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,WAAW,GAAGC,IAAA,IAAsB;EAAAC,EAAA;EAAA,IAArB;IAAEC;EAAa,CAAC,GAAAF,IAAA;EACjC,MAAM;IAAEG;EAAK,CAAC,GAAGT,UAAU,CAACC,WAAW,CAAC;EACxC,MAAMS,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAE9B,OAAOW,YAAY,CAACG,IAAI,CAAEC,IAAI,IAAKH,IAAI,CAACG,IAAI,CAACC,QAAQ,CAACD,IAAI,CAAC,CAAC,gBACxDR,OAAA,CAACL,MAAM;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC,GACVR,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAES,IAAI,gBACVd,OAAA,CAACN,QAAQ;IAACqB,EAAE,EAAC,eAAe;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAEX;IAAS,CAAE;IAACY,OAAO;EAAA;IAAAR,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC,gBAElEb,OAAA,CAACN,QAAQ;IAACqB,EAAE,EAAC,WAAW;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAEX;IAAS,CAAE;IAACY,OAAO;EAAA;IAAAR,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAChE;AACL,CAAC;AAACV,EAAA,CAXIF,WAAW;EAAA,QAEIR,WAAW;AAAA;AAAA0B,EAAA,GAF1BlB,WAAW;AAajB,eAAeA,WAAW;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}